# 🚀 Gemini API 重大更新

## 🎯 **更新概覽**

根據最新的 Gemini API 文檔，我們已經完全更新了 Devika 的 Gemini 支援，現在支援最新的 Gemini 2.5 和 2.0 系列模型！

## 🆕 **新增模型**

### **🧠 Gemini 2.5 系列 (最新)**

#### **Gemini 2.5 Pro**
- ✅ **Google 最先進的多用途模型**
- ✅ **擅長程式設計和複雜推理工作**
- ✅ **支援思考功能 (Thinking)**
- ✅ **100 萬個符記上下文窗口**

#### **Gemini 2.5 Flash**
- ✅ **混合推理模型**
- ✅ **支援思考預算配置**
- ✅ **100 萬個符記上下文窗口**
- ✅ **平衡性能和速度**

#### **Gemini 2.5 Flash-Lite**
- ✅ **最具成本效益的模型**
- ✅ **專為大規模使用而建構**
- ✅ **快速回應**

### **🤖 Gemini 2.0 系列**

#### **Gemini 2.0 Flash**
- ✅ **為 Agents 時代打造**
- ✅ **最平衡的多模態模型**
- ✅ **100 萬個符記上下文窗口**
- ✅ **支援圖像生成功能**

#### **Gemini 2.0 Flash-Lite**
- ✅ **最小、最具成本效益**
- ✅ **專為大規模使用設計**

### **💎 Gemini 1.5 系列 (保留)**

#### **Gemini 1.5 Pro**
- ✅ **長上下文支援**
- ✅ **100 萬個符記上下文窗口**

#### **Gemini 1.5 Flash**
- ✅ **最快的多模態模型**
- ✅ **適合重複性任務**

#### **Gemini 1.5 Flash-8B**
- ✅ **最小型模型**
- ✅ **適用於較低層級的智慧用途**

## 🔧 **技術改進**

### **1. 智能思考功能支援**
```typescript
// 為 2.5 系列模型自動啟用思考功能
if (model.includes('2.5')) {
    requestBody.config = {
        thinkingConfig: {
            thinkingBudget: -1  // 啟用動態思考
        }
    };
}
```

### **2. 改進的系統指令**
```typescript
// 為新模型添加專業的系統指令
requestBody.systemInstruction = {
    parts: [
        {
            text: "你是一個專業的程式開發助理，專精於程式碼分析、重構和測試生成。請提供準確、實用的建議。"
        }
    ]
};
```

### **3. 增強的安全設置**
```typescript
safetySettings: [
    {
        category: "HARM_CATEGORY_HARASSMENT",
        threshold: "BLOCK_ONLY_HIGH"
    },
    // ... 其他安全設置
]
```

### **4. 更好的錯誤處理**
```typescript
// 檢查是否被安全過濾器阻擋
if (candidate.finishReason === 'SAFETY') {
    throw new Error('回應被 Gemini 安全過濾器阻擋，請嘗試修改您的問題');
}
```

## 🎯 **模型選擇建議**

### **🧠 日常開發 (推薦)**
**Gemini 2.5 Flash**
- 平衡的性能和速度
- 支援思考功能
- 適合大多數開發任務

### **🚀 複雜任務**
**Gemini 2.5 Pro**
- 最強的推理能力
- 適合複雜的程式設計問題
- 深度代碼分析

### **💨 快速查詢**
**Gemini 2.5 Flash-Lite**
- 最快的回應速度
- 最具成本效益
- 適合簡單問題

### **🤖 AI Agents**
**Gemini 2.0 Flash**
- 專為 Agents 設計
- 多模態支援
- 平衡的性能

### **💎 長上下文**
**Gemini 1.5 Pro**
- 100 萬符記上下文
- 適合大型項目分析
- 處理大量代碼

## 🔄 **如何使用**

### **1. 快速切換模型**
- 點擊狀態欄的模型名稱
- 或使用 `Ctrl+Shift+P` → "Devika: 切換 LLM 模型"

### **2. 設置 Gemini API 密鑰**
- 使用 `Ctrl+Shift+P` → "Devika: 設置 API 密鑰"
- 選擇 "Google Gemini API"
- 輸入您的 API 密鑰

### **3. 智能對話**
- 點擊側邊欄的 🤖 "與 AI 助理對話"
- 自然地詢問任何開發相關問題
- AI 會自動使用最適合的功能

## 💡 **新功能亮點**

### **🧠 思考功能**
- Gemini 2.5 系列模型支援內部思考過程
- 提升複雜推理和多步驟規劃能力
- 自動啟用動態思考預算

### **🎯 智能模型選擇**
- 根據模型能力自動配置參數
- 新模型支援更好的系統指令
- 優化的安全設置

### **📊 狀態欄顯示**
- 實時顯示當前使用的模型
- 清楚的圖標識別
- 一鍵切換功能

## 🔥 **性能提升**

### **速度**
- Gemini 2.5 Flash-Lite: 最快回應
- Gemini 2.0 Flash-Lite: 最小延遲

### **質量**
- Gemini 2.5 Pro: 最高質量推理
- 思考功能: 提升複雜問題解決能力

### **成本**
- Flash-Lite 系列: 最具成本效益
- 智能預算管理

## 🎉 **立即體驗**

1. **重新載入擴展**: 在調試窗口按 `Ctrl+R`
2. **設置 Gemini API 密鑰**: 如果還沒有設置
3. **切換到新模型**: 嘗試 Gemini 2.5 Flash (推薦)
4. **開始對話**: 體驗新的思考功能和改進的回應質量

## 📋 **完整模型列表**

| 模型 | 特點 | 適用場景 |
|------|------|----------|
| 🧠 Gemini 2.5 Pro | 最先進、思考功能 | 複雜推理、深度分析 |
| ⚡ Gemini 2.5 Flash | 混合推理、平衡性能 | 日常開發、一般任務 |
| 💨 Gemini 2.5 Flash-Lite | 最具成本效益 | 快速查詢、簡單問題 |
| 🤖 Gemini 2.0 Flash | Agents 專用 | AI 代理、多模態任務 |
| 🔥 Gemini 2.0 Flash-Lite | 最小模型 | 大規模使用、快速回應 |
| 🚀 Gemini 1.5 Pro | 長上下文 | 大型項目、文檔分析 |
| 💎 Gemini 1.5 Flash | 快速多模態 | 重複性任務、圖像處理 |

**現在您擁有最新、最強大的 Gemini AI 模型支援！** 🎉

---

**🔥 立即體驗**: 重新載入擴展並嘗試新的 Gemini 2.5 模型！
